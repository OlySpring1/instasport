(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{30:function(e,t,n){e.exports=n(48)},35:function(e,t,n){},36:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(9),r=n.n(l),i=(n(35),n(36),n(10)),u=[{title:"\u041a\u043b\u0443\u0431\u044b",link:"/club"},{title:"\u0410\u043d\u043e\u043d\u0441\u044b",link:"/announce"},{title:"\u0411\u043b\u043e\u0433",link:"/blog"}],s=function(){return c.a.createElement("header",{className:"header "},c.a.createElement("div",{className:"header__container container"},c.a.createElement("a",{href:"https://instasport.co/landing/",target:"_blank",rel:"noopener noreferrer",className:"header__logo logo"},"Instasport"),c.a.createElement("nav",null,c.a.createElement("ul",{className:"nav__list"},u.map((function(e){return c.a.createElement("li",{key:e.title,className:"nav__item"},c.a.createElement(i.c,{to:e.link,className:"nav__link",activeClassName:"nav__link--active"},e.title))}))))))},o=(n(41),function(){return c.a.createElement("div",{className:"container"},c.a.createElement("blockquote",{className:"blockquote text-right"},c.a.createElement("p",{className:"blockquote__text-right"},"\u0414\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u043d\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443 \u0442\u0435\u043f\u0435\u0440\u044c \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0430\u0440\u0443 \u043a\u0430\u0441\u0430\u043d\u0438\u0439!"),c.a.createElement("footer",null,c.a.createElement("cite",{title:"Source Title",className:"blockquote__footer"},"- Instasport"))),c.a.createElement("div",{className:"box"},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("div",{className:"ads"},c.a.createElement("h1",{className:"ads__title"},"\u0412\u044b\u0431\u0435\u0440\u0438 \u0441\u0432\u043e\u0439 \u043a\u043b\u0443\u0431"))))}),m=n(5),f=n(2),E=n(28),b=n(11),v=n(25),d=n(26),g=n(27),p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGE":return t.message;default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_COMPLETED":return!0;default:return e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLUB":return t.clubs;default:return e}},h="";localStorage.getItem("selectCity")&&(h=JSON.parse(localStorage.getItem("selectCity")||""));var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECT_CITY":return t.selectCity;case"RESET_CITY":return"";default:return e}},C=Object(b.combineReducers)({clubs:N,selectCity:O,loading:p,loaded:y,message:_}),j=function(e){return e.loading},k=function(e){return e.message},S=function(e){return e.loaded},T=function(e){return e.clubs},L=function(e){return e.selectCity},I=function(){return function(e){e({type:"START_LOADING"}),fetch("https://instasport.co/dashboard/api/v1/clubs/").then((function(e){return e.json()})).then((function(t){e({type:"FINISH_LOADING"}),e({type:"SET_CLUB",clubs:t}),e({type:"LOAD_COMPLETED"})})).catch((function(){e(function(e){return{type:"SET_MESSAGE",message:e}}("Oops! Something went wrong... :("))}))}},A=Object(g.a)(T,L,(function(e,t){return t?e.filter((function(e){return e.city.slug===t})):e})),w=Object(b.createStore)(C,Object(v.composeWithDevTools)(Object(b.applyMiddleware)(d.a))),M=(n(43),function(){var e=Object(m.c)(T),t=Object(m.b)(),n={},l=Object(a.useMemo)((function(){return e.map((function(e){return e.city}))}),[e]),r=Object(a.useMemo)((function(){return l.filter((function(e){return e.slug in n?0:n[e.slug]=1}))}),[l,n]);return c.a.createElement("section",{className:"cities"},c.a.createElement("ul",{className:"cityList"},c.a.createElement(i.b,{to:"/city",className:"refreshCity-btn",onClick:function(){return t({type:"RESET_CITY"})}}),r.map((function(e){return c.a.createElement(c.a.Fragment,{key:e.slug},c.a.createElement(i.c,{to:"/city/".concat(e.slug),exact:!0,className:"cityList__link",activeClassName:"is-active",onClick:function(){return t({type:"SET_SELECT_CITY",selectCity:e.slug})}},e.title))}))))}),D=n(21),x=(n(44),function(e){var t=e.selectActivity,n=e.resetActivity,l=Object(m.c)(A),r=Object(a.useMemo)((function(){return l.map((function(e){return e.activity.map((function(e){return e.slug}))}))}),[l]),i=Object(a.useMemo)((function(){return Array.from(new Set(r.reduce((function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t))}),[])))}),[r]);return c.a.createElement("section",{className:"activities"},c.a.createElement("ul",{className:"activityList"},c.a.createElement("button",{type:"button",className:"refresh-btn",onClick:function(){return n()}}),i.map((function(e){return c.a.createElement("li",{className:"activityList__item",key:e},c.a.createElement("button",{type:"button","data-hover":e,className:"activityList__btn",onClick:function(){return t(e)}},e))}))))}),G=n(51),R=n(50),q=(n(45),n(46),function(e){var t=e.club,n=Object(a.useMemo)((function(){return/.jpg|.svg|.png/g.test(t.logo)}),[t.logo]);return c.a.createElement("li",{key:t.link,className:"clubList__item cartClub"},c.a.createElement("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"cartClub__link"},n?c.a.createElement("img",{src:t.logo,alt:"logo club",className:"cartClub__logo"}):c.a.createElement("div",{className:"cartClub__logo logo-title"},t.title)),c.a.createElement("p",{className:"cartClub__title"},t.title_short))}),F=function(e){var t=e.visibleClubs;return c.a.createElement(G.a,{className:"todo-list clubList"},t.map((function(e){return c.a.createElement(R.a,{key:e.link,timeout:500,classNames:"club"},c.a.createElement(q,{club:e}))})))},J=function(){var e=Object(m.c)(A),t=Object(a.useState)(e),n=Object(E.a)(t,2),l=n[0],r=n[1];Object(a.useEffect)((function(){return r(e)}),[e]);return c.a.createElement("div",{className:"container"},c.a.createElement(M,null),c.a.createElement(x,{selectActivity:function(t){r(e.filter((function(e){return e.activity.find((function(e){return e.slug===t}))})))},resetActivity:function(){r(e)}}),c.a.createElement(F,{visibleClubs:l}))},Y=(n(47),function(){var e=Object(m.c)(S),t=Object(m.c)(k);return c.a.createElement("div",{className:e||""!==t?"":"lds-roller"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))}),B=function(){var e=Object(m.c)(L),t=Object(m.c)(S),n=Object(m.c)(j),l=Object(m.b)();return Object(a.useEffect)((function(){l(I())}),[l]),Object(a.useEffect)((function(){localStorage.setItem("selectCity",JSON.stringify(e))}),[e]),c.a.createElement("div",{className:"App"},n&&c.a.createElement("div",{className:"loading"},c.a.createElement(Y,null)),t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(s,null),c.a.createElement("main",null,c.a.createElement(o,null),c.a.createElement(J,null))),c.a.createElement(f.a,{exact:!0,from:"/",to:"/club"}))},H=function(){return c.a.createElement(m.a,{store:w},c.a.createElement(i.a,null,c.a.createElement(B,null)))};r.a.render(c.a.createElement(H,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.72c98302.chunk.js.map